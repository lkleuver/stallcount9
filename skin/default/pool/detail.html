{% extends "index.html" %}
 
{% block title %}Pool{% endblock %}

{% block content %}
	<h1>{{pool.Stage.title}} - {{pool.title}}</h1>
	
	<h2>Spots</h2>
	<ul>
	{% for spot in pool.getSpots() %}
		<li>{{ spot.rank }} - {{ spot.title }}</li>
	{% endfor %}
	</ul>
	
	<h2>Rounds</h2>
	<ul class="roundlist">
		{% for round in pool.Rounds %}
			<li>
				<h3>Round {{round.rank}}</h3> 
				{% if round.rank == pool.currentRound %}
					<a class="action" href="?n=/pool/matchups/{{pool.id}}">Create Matchups for this round</a>					
				{% endif %}
				
				<table class="matchlist">
					<tr>
						<th>#</th>
						<th>Home</th>
						<th>Away</th>
						<th>result</th>
					</tr>
					
				{% for match in round.Matches %}
					<tr{% if loop.index is even %} class="odd" {% endif %}>
						<td class="rank">{{loop.index}}</td>
						<td class="team"><a href="{{match.home_team_id}}">{{match.HomeTeam.name}}</a></td>
						<td class="team"><a href="{{match.away_team_id}}">{{match.AwayTeam.name}}</a></td>
						<td class="result">{{match.homeScore}} - {{match.awayScore}}</td>
					</tr>
				{% endfor %}
				</table>
			</li>
		{% endfor %}
	</ul>

	
	
	<p>
		<a href="?n=/stage/detail/{{pool.Stage.id}}">back to stage</a>
	</p>
  
{% endblock %}