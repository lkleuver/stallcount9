---

User:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    username:
      type: string(255)
    password:
      type: string(255)
  options:
    collate: utf8_unicode_ci
    charset: utf8
    
    
Tournament:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title:
      type: string(255)
    state:
      type: integer(4)
    startDate:
      type: integer(10)
    endDate:
      type: integer(10)
  options:
    collate: utf8_unicode_ci
    charset: utf8

    
Division:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title:
      type: string(255)
    tournament_id:
      type: integer(8)
  relations:
    Tournament:
      foreignAlias: Divisions
  options:
    collate: utf8_unicode_ci
    charset: utf8
    

Stage:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title: 
      type: string(255)
    division_id:
      type: integer(8)
  relations:
    Division:
      foreignAlias: Stages
  options:
    collate: utf8_unicode_ci
    charset: utf8
    
Team:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    name:
      type: string(255)
    notes:
      type: string(255)
    tournament_id:
      type: integer(8)
    division_id:
      type: integer(8)
    pool_id:
      type: integer(8)
  relations:
    Tournament:
      foreignAlias: Teams
    Division:
      foreignAlias: Teams
    Pool:
      foreignAlias: Teams
  options:
    collate: utf8_unicode_ci
    charset: utf8
  attributes:
    export: all
    validate: true
  
Pool:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title:
      type: string(255)
    pool_type_id:
      type: integer(8)
    stage_id:
      type: integer(8)
  relations:
    Stage:
      foreignAlias: Pools
    PoolType:
      foreignType: one
    Teams:
      foreignAlias: Pools
      class: Team
      refClass: PoolTeam
  options:
    collate: utf8_unicode_ci
    charset: utf8
    
PoolTeam:
  columns:
    pool_id:
      type: integer(8)
      primary: true
    team_id:
      type: integer(8)
      primary: true
  relations:
    Pool:
      foreignAlias: PoolTeams
    Team:
      foreignAlias: PoolTeams
    
PoolType:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title:
      type: string(255)
    description:
      type: string(255)
  options:
    collate: utf8_unicode_ci
    charset: utf8



Field:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    title:
      type: string(255)
  options:
    collate: utf8_unicode_ci
    charset: utf8


Round:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    pool_id:
      type: integer(8)
    startTime:
      type: integer(10)
  relations:
    Pool:
      foreignAlias: Rounds
  options:
    collate: utf8_unicode_ci
    charset: utf8


PoolMatch:
  columns:
    id:
      type: integer(8)
      primary: true
      autoincrement: true
    scheduledTime:
      type: integer(10)
    field_id:
      type: integer(8)
    home_team_id:
      type: integer(8)
    away_team_id:
      type: integer(8)
    round_id:
      type: integer(8)
    homeScore:
      type: integer(4)
    awayScore:
      type: integer(4)
    scoreSubmitTime:
      type: integer(10)
  relations:
    Field:
      foreignAlias: Matches
    HomeTeam:
      class: Team
      local: home_team_id
      foreign: id
      foreignAlias: HomeMatches
    AwayTeam:
      class: Team
      local: away_team_id
      foreign: id
      foreignAlias: AwayMatches
    Round:
      foreignAlias: Matches
  options:
    collate: utf8_unicode_ci
    charset: utf8

    
